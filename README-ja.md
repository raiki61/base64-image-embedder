# Base64 Image Embedder

この拡張機能は、Visual Studio CodeでHTMLファイル内の画像をバイナリデータに変換し、Base64エンコードして埋め込むためのものです。

## インストール

1. Visual Studio Codeを開きます。
2. 拡張機能ビューを開きます（Ctrl+Shift+X）。
3. "Base64 Image Embedder"を検索し、インストールします。

## 使用方法

1. HTMLファイルを開きます。
2. コマンドパレットを開きます（Ctrl+Shift+P）。
3. "Base64 Image Embedder: Convert Image to Binary"と入力し、Enterキーを押します。
4. 画像がバイナリデータに変換され、Base64エンコードされてHTMLファイルに埋め込まれます。

## 機能

- HTMLファイル内の画像をバイナリデータに変換します。
- バイナリデータをBase64エンコードして画像をHTMLファイルに埋め込みます。
- コマンドパレットから簡単にアクセスできます。

## 注意事項

- この拡張機能はHTMLファイルのみに適用されます。
- 変換されたBase64データはHTMLファイルに直接埋め込まれ、元の画像ファイルは変更されません。

## ライセンス

Apache License Version 2.0

## アーキテクチャの設計解説

この拡張機能のアーキテクチャは、クリーンアーキテクチャをベースにしています。クリーンアーキテクチャは、ビジネスルールやアプリケーションの振る舞いを中心に置き、フレームワークや外部のライブラリに依存しないように設計されています。以下では、この拡張機能のアーキテクチャについて解説します。

### 1. ドメイン層

- **Imageクラス**: 画像を表すエンティティであり、画像のパスとBase64エンコードされたデータを保持します。

### 2. ユースケース層

- **ConvertImageToBase64UseCaseクラス**: 画像をバイナリデータに変換し、Base64エンコードしてHTMLファイルに埋め込むユースケースを実装します。このクラスは、外部フレームワークに依存せず、ビジネスルールに焦点を当てています。

### 3. アダプター層

- **VSCodeAdapterクラス**: Visual Studio CodeのAPIをラップし、ユースケース層からの要求を処理します。具体的には、VSCodeのエディタやウィンドウに関する操作を行います。このアダプター層は、外部フレームワークやツールキットとのインタフェースを提供し、ユースケース層との間でデータのやり取りを調整します。

### 4. プレゼンテーション層

- **拡張機能のエントリーポイント**: VSCodeの拡張機能としてのエントリーポイントであり、ユーザーからの操作を受け付け、適切なユースケースを実行します。ユーザーインターフェースとしての役割を担います。

### 5. データ層

- この拡張機能ではデータ層は必要ありません。画像の変換やエンコードに関するデータはすべてメモリ内で処理されます。

このように、クリーンアーキテクチャを採用することで、拡張機能の各層が疎結合になり、変更に強い設計となっています。また、ビジネスロジックやアプリケーションの要件が明確に分離され、テストや保守が容易になります。

## 環境構築

* vscode拡張機能の開発方法
  * https://qiita.com/HelloRusk/items/073b58c1605de224e67e

### 開発者の環境

* OS
  * windows11(2024/3/10)
* nodejs
  * 20.11.1

### エラーと解決

* このシステムではスクリプトの実行が無効になっているため、....
  * https://qiita.com/ponsuke0531/items/4629626a3e84bcd9398f